<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Basic Canvas usage: animation</title>
 
</head>
<body>
<header>
    <h1>Basic Canvas usage: animation</h1>
    <input type="text" id="inputText">
    <button onclick="start()">Start</button>
</header>

<audio src="../multimedia/audio/movieCountdown.mp3" id="movieCountdown"></audio>
<canvas width="1000px" height="500px" id="countDown" style="border: 1px solid gray">
</canvas>
<script>
    function start() {
        var canvas;
        var context;
        var sound = document.querySelector("#movieCountdown");
        
        canvas = document.getElementById('countDown');
        context = canvas.getContext('2d');
        context.font = "150px Arial";
        context.textAlign = "center";

        function draw(count) {
            context.beginPath();
            context.font = "150px Arial";
            context.textAlign = "center";
            context.fillStyle = "black";
            context.fillRect(0, 0, canvas.width, canvas.height);
            context.fillStyle = "white";
            context.fillText(count, canvas.width/2, canvas.height/2);
        }
        
        function clearCanvas () {
            canvas.width = canvas.width;
        }
        
        var count = 5;
        function countDown() {
            clearCanvas();
            draw(count);
            sound.play();
            setTimeout(function() {
                if (count > 0) {
                    count--;
                    countDown();
                } else {
                    console.log('nise');
                }
            }, 1000);
        }
        countDown();
    }
</script>
</body>
</html>
